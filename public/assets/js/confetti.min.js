!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).confetti=t()}(this,function(){"use strict";var e={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function n(n,t,o){return function(n,e){return e?e(n):n}(n&&null!=n[t]?n[t]:e[t],o)}function t(e){return e.shape||"circle"}function o(e){var n=e.colors;if(n&&n.length)return n[Math.floor(Math.random()*n.length)]}function i(e){return e?!!e.disableForReducedMotion:e[i.name]||!1}function a(e,n,t){return t?t(e,n):e+n}function r(e){var n=e.angle*(Math.PI/180),i=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-n+(.5*i-Math.random()*i),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:o(e),shape:t(e),tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar}}function l(t,o){o=o||{};var l=o.disableForReducedMotion||i,c=!1;if(l&&matchMedia("(prefers-reduced-motion: reduce)").matches)return console.log("Disabling confetti because of reduced motion settings"),function(){};var s,u,d=document.createElement("canvas");d.setAttribute("id",o.target||"confetti-canvas"),d.setAttribute("style","display:block;z-index:999999;pointer-events:none;position:fixed;top:0"),document.body.appendChild(d),d.width=d.offsetWidth,d.height=d.offsetHeight,window.addEventListener("resize",function(){d.width=d.offsetWidth,d.height=d.offsetHeight}),s=d.getContext("2d");var f={canvas:d,context:s,interval:null,width:d.width,height:d.height,disableForReducedMotion:l,reset:function(){if(!c){var n=t.particleCount;for(u=[];n--;)u.push(r(t))}},update:function(){var n,t;if(!c)for(s.clearRect(0,0,f.width,f.height),n=u.length;n--;)t=u[n],t.tick>=t.totalTicks?u.splice(n,1):(t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=t.wobbleSpeed,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),function(e,n){switch(s.fillStyle=s.strokeStyle=e.color,s.beginPath(),e.shape){case"circle":s.moveTo(e.x,e.y),s.arc(e.x,e.y,e.scalar*n,0,2*Math.PI);break;case"star":var t=e.scalar*n,o=e.x,i=e.y;s.moveTo(o,i-t);for(var a=0;a<5;a++){var r=a*Math.PI/5*2,l=o+Math.sin(r)*t,c=i-Math.cos(r)*t;s.lineTo(l,c),r+=Math.PI/5,l=o+Math.sin(r)*t/2,c=i-Math.cos(r)*t/2,s.lineTo(l,c)}s.lineTo(o,i-t);break;case"line":s.moveTo(e.x,e.y),s.lineTo(e.wobbleX,e.wobbleY);break;case"square":s.moveTo(e.x-e.scalar/2,e.y-e.scalar/2),s.rect(e.x-e.scalar/2,e.y-e.scalar/2,e.scalar,e.scalar);break;default:s.moveTo(e.x,e.y),s.arc(e.x,e.y,e.scalar*n,0,2*Math.PI)}s.fill(),s.closePath()}(t,t.scalar))},render:function(){f.update()}};return f.reset(),c=!1,f.interval=requestAnimationFrame(function e(){f.render(),f.interval=requestAnimationFrame(e)}),f}function c(e,n){return n=n||{},e=e||{},Object.keys(e).forEach(function(t){void 0===n[t]&&(n[t]=e[t])}),n}function s(e,t){e||(e={});var o=c(e,t),i=n(o,"particleCount",Math.floor),r=n(o,"angle",Number),s=n(o,"spread",Number),u=n(o,"startVelocity",Number),d=n(o,"decay",Number),f=n(o,"gravity",Number),h=n(o,"drift",Number),m=n(o,"colors",a),p=n(o,"ticks",Number),v=n(o,"shapes",a),y=n(o,"scalar",Number),b=function(e){var t=n(e,"origin",Object);return t.x=n(t,"x",Number),t.y=n(t,"y",Number),t}(o),g=i;return function(e){var n=e.canvas,t=e.width,o=e.height;g&&(e.reset(),function(e,n,t,o,i){for(var a,r=0;r<e;r++)a=l({particleCount:1,angle:n,spread:t,startVelocity:o,color:m(),shape:v(),gravity:f,drift:h,ticks:p,decay:d,scalar:y,x:b.x*t,y:b.y*i}),a.update(),a.reset()}(g,r,s,u,o/2),e.update())}}return l.reset=function(){var e=document.getElementById("confetti-canvas");e&&e.parentNode&&e.parentNode.removeChild(e)},s.create=l,s.reset=l.reset,s});